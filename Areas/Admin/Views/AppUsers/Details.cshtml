@model WebBanSach.Models.AppUser
@{
    ViewData["Title"] = "Chi tiết khách hàng";
}

<div class="container-fluid px-4 py-4">

    <div class="row g-4">
        <div class="col">
            <div class="card shadow-sm">

                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Thông tin tài khoản</h5>
                </div>

                <div class="card-body">

                    <table class="table table-borderless">
                        <tr>
                            <th width="180">Tên đăng nhập</th>
                            <td><code>@Model.UserName</code></td>
                        </tr>
                        <tr>
                            <th>Họ và tên</th>
                            <td>@Model.FullName</td>
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td>@Model.Email</td>
                        </tr>
                        <tr>
                            <th>Số điện thoại</th>
                            <td>@Model.PhoneNumber</td>
                        </tr>
                        <tr>
                            <th>Địa chỉ</th>
                            <td>@Model.Address</td>
                        </tr>
                        <tr>
                            <th>Trạng thái</th>
                            <td>
                                @if (Model.IsActive)
                                {
                                    <span class="badge bg-success fs-6">Hoạt động</span>
                                }
                                else
                                {
                                    <span class="badge bg-danger fs-6">Bị khóa</span>
                                }
                            </td>
                        </tr>
                    </table>

                    <div class="d-flex m-md-2">

                        <a asp-controller="Orders" asp-action="Index" asp-route-userId="@Model.ID"
                           class="btn btn-outline-primary me-3">
                            <i class="bi bi-bag-check"></i> Đơn hàng
                        </a>

                        <form asp-action="ToggleStatus"
                              asp-route-id="@Model.ID"
                              method="post"
                              onsubmit="return confirm('Bạn có chắc muốn @(Model.IsActive ? "khóa" : "mở khóa") @Model.FullName không?')">
                            @Html.AntiForgeryToken()
                            <button type="submit"
                                    class="btn me-3 @(Model.IsActive ? "btn-outline-danger" : "btn-outline-success")">
                                <i class="@(Model.IsActive ? "bi bi-lock" : "bi bi-unlock")"></i>
                                @(Model.IsActive ? "Khóa" : "Mở khóa")
                            </button>
                        </form>

                        <a asp-action="Index" class="btn btn-secondary">
                            <i class="bi bi-arrow-left"></i>
                        </a>

                    </div>

                </div>
            </div>
        </div>
    </div>

</div>
